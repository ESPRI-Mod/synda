.. _config-param-ref-sdt:

Configuration parameter reference
=================================

This document describes each parameter used in ``sdt.conf`` file to configure Synda.

notes
  $HOME is the directory in which you want to place your Synda environment.

+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| Section           | Parameter                            | Type      | Default value                   | Function                                                                                                     |
+===================+======================================+===========+=================================+==============================================================================================================+
| [download]        | max_parallel_download                | *int*     | 8                               | Set the number of parallel download.                                                                         |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | hpss                                 | *boolean* | True                            | Gives HPSS service some time to move data from tape to disk.                                                 |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | http_fallback                        | *boolean* | False                           | If HTTP transfer fails, URL is automatically replaced with another HTTP URL.                                 |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | url_max_buffer_size                  | *int*     | 3500                            | limit buffer size as apache server doesnt support more than 4000 chars for HTTP GET buffer.                  |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | direct_http_timeout                  | *int*     | 30                              | Direct download HTTP timeout, in seconds (time to wait for HTTP response).                                   |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | async_http_timeout                   | *int*     | 120                             | Asynchronous download HTTP timeout, in seconds (time to wait for HTTP response).                             |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | direct_db_timeout                    | *int*     | 120                             | This timeout parameter specifies how long, in seconds, the connection should wait for the lock to go away    |
|                   |                                      |           |                                 | until raising an exception.                                                                                  |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | async_db_timeout                     | *int*     | 12000                           | This timeout parameter specifies how long, in seconds, the connection should wait for the lock to go away    |
|                   |                                      |           |                                 | until raising an exception.                                                                                  |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | streaming_chunk_size                 | *int*     | 0                               | Files arer downloaded into several parts to not exceed max memory dedicated to the download process          |
|                   |                                      |           |                                 | 'streaming_chunk_size' characterizes the size of each part (i.e. the data size of each http response).       |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [module]          | download                             | *boolean* | True                            | If true, download files from ESGF.                                                                           |
|                   |                                      |           |                                 | To use synda in discovery or post-processing mode only, set this parameter to false.                         |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [log]             | verbosity_level                      | *string*  | info                            | Log verbosity level.                                                                                         |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [log]             | scheduler_profiling                  | *boolean* | False                           | Log code profiling information.                                                                              |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | metadata_server_type                 | *string*  | esgf_search_api                 | Type of metadata server.                                                                                     |
|                   |                                      |           |                                 | Single possible value : ``esgf_search_api``                                                                  |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | default_path                         | *string*  | ``$HOME/conf/default``          | Default directory path for default selection files.                                                          |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | selection_path                       | *string*  | ``$HOME/selection``             | Default directory path for selection files.                                                                  |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | data_path                            | *string*  | ``$HOME/data``                  | Default data directory path.                                                                                 |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | db_path                              | *string*  | ``$HOME/db``                    | Default database directory.                                                                                  |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | sandbox_path                         | *string*  | ``$HOME/sandbox``               | Default sandbox directory path.                                                                              |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | unicode_term                         | *boolean* | False                           | Use unicode characters for progress bar.                                                                     |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | progress                             | *boolean* | False                           | Show progress bar for time consuming task.                                                                   |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | default_listing_size                 | *string*  | small                           | This parameter drives how many results are displayed by default for "search", "list" and "dump" subcommands. |
|                   |                                      |           |                                 | Possible values are: "small", "medium" and "big".                                                            |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | dump_listing_limit_for_small_mode    | *int*     | 50                              | This parameter drives how many results are displayed by default in small mode for "dump" subcommand.         |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | dump_listing_limit_for_medium_mode   | *int*     | 100                             | This parameter drives how many results are displayed by default in medium mode for "dump" subcommand.        |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | dump_listing_limit_for_big_mode      | *int*     | 6000                            | This parameter drives how many results are displayed by default in big mode for "dump" subcommand.           |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | list_listing_limit_for_small_mode    | *int*     | 20                              | This parameter drives how many results are displayed by default in small mode for "list" subcommand.         |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | list_listing_limit_for_medium_mode   | *int*     | 200                             | This parameter drives how many results are displayed by default in medium mode for "list" subcommand.        |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | list_listing_limit_for_big_mode      | *int*     | 20000                           | This parameter drives how many results are displayed by default in big mode for "list" subcommand.           |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | search_listing_limit_for_small_mode  | *int*     | 100                             | This parameter drives how many results are displayed by default in small mode for "search" subcommand.       |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | search_listing_limit_for_medium_mode | *int*     | 1000                            | This parameter drives how many results are displayed by default in medium mode for "search" subcommand.      |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | search_listing_limit_for_big_mode    | *int*     | 6000                            | This parameter drives how many results are displayed by default in big mode for "search" subcommand.         |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | show_advanced_options                | *boolean* | False                           | Allow selection of advanced options associated with some subcommands.                                        |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | onemgf                               | *boolean* | False                           | Improve search performance.                                                                                  |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | check_parameter                      | *boolean* | False                           | Perform parameter typo detection (name and value).                                                           |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | ignorecase                           | *boolean* | True                            | Automatically fix incorrect case.                                                                            |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | nearest                              | *boolean* | False                           | Automatically select the nearest file replica.                                                               |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | nearest_mode                         | *string*  | geolocation                     | Set nearest replica algorithm.                                                                               |
|                   |                                      |           |                                 | Possible values are: "geolocation" and "rtt".                                                                |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | lfae_mode                            | *string*  | abort                           | Set which policies to adopt when a download starts and local file already exists (lfae).                     |
|                   |                                      |           |                                 | Possible values are: "keep", "replace" and "abort".                                                          |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | incorrect_checksum_action            | *string*  | remove                          | Set which policies to adopt when checksum doesn't match.                                                     |
|                   |                                      |           |                                 | Possible values are: "remove" and "keep".                                                                    |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [index]           | indexes                              | *string*  | pcmdi.llnl.gov                  | Set the indexes list to use for large operation.                                                             |
|                   |                                      |           |                                 | This parameter is used for load-balancing on several indexes, to speed up large search-API requests.         |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [index]           | default_index                        | *string*  | pcmdi.llnl.gov                  | Set the index to use in priority.                                                                            |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [locale]          | country                              | *string*  |                                 | Set the country in which synda is installed.                                                                 |
|                   |                                      |           |                                 | Used to compute nearest replica when "geolocation" mode is used.                                             |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [api]             | esgf_search_chunksize                | *int*     | 9000                            | Maximum files number returned by one api call.                                                               |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [api]             | esgf_search_http_timeout             | *int*     | 300                             | HTTP timeout in seconds (time to wait for HTTP esgf_search api response).                                    |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [install]         | interactive                          | *boolean* | True                            | User Confirmation required before to install new files in the Database.                                      |
+-------------------+--------------------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
