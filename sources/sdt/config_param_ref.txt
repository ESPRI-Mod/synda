.. _config-param-ref-sdt:

Configuration parameter reference
=================================

This document describes each parameter used in ``sdt.conf`` file to configure Synda.

+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| Section           | Parameter                 | Type      | Default value                   | Function                                                                                                     |
+===================+===========================+===========+=================================+==============================================================================================================+
| [daemon]          | user                      | *string*  |                                 | Set daemon user.                                                                                             |
|                   |                           |           |                                 | The daemon must be started by root for this parameter to work.                                               |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [daemon]          | group                     | *string*  |                                 | Set daemon group.                                                                                            |
|                   |                           |           |                                 | The daemon must be started by root for this parameter to work.                                               |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | max_parallel_download     | *int*     | 8                               | Set the number of parallel download.                                                                         |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | hpss                      | *boolean* | True                            | Gives HPSS service some time to move data from tape to disk.                                                 |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [download]        | http_fallback             | *boolean* | False                           | If GridFTP transfer fails, GridFTP URL is automatically replaced with HTTP URL.                              |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [module]          | download                  | *boolean* | True                            | If true, download files from ESGF.                                                                           |
|                   |                           |           |                                 | To use synda in discovery or post-processing mode only, set this parameter to false.                         |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [module]          | post_processing           | *boolean* | False                           | If true, send download completion events to the post-processing module.                                      |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [module]          | globustransfer            | *boolean* | False                           | If true, use Globus Transfer platform to download files.                                                     |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [post_processing] | host                      | *string*  | localhost                       | Post-processing daemon host.                                                                                 |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [post_processing] | port                      | *int*     | 8090                            | Post-processing daemon port.                                                                                 |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [log]             | verbosity_level           | *string*  | info                            | Log verbosity level.                                                                                         |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [log]             | scheduler_profiling       | *boolean* | False                           | Log code profiling information.                                                                              |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | metadata_server_type      | *string*  | esgf_search_api                 | Type of metadata server.                                                                                     |
|                   |                           |           |                                 | Possible values are: ``esgf_search_api``, ``thredds_catalog`` and ``apache_default_listing``.                |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | default_path              | *string*  | ``$HOME/sdt/conf/default``      | Default directory path for default selection files.                                                          |
|                   |                           |           | or ``/etc/synda/sdt/default``   |                                                                                                              |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | selection_path            | *string*  | ``$HOME/sdt/selection``         | Default directory path for selection files.                                                                  |
|                   |                           |           | or ``/etc/synda/sdt/selection`` |                                                                                                              |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | data_path                 | *string*  | ``$HOME/sdt/data``              | Default data directory path.                                                                                 |
|                   |                           |           | or ``/srv/synda/sdt/data``      |                                                                                                              |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | db_path                   | *string*  | ``$HOME/sdt/db``                | Default database directory.                                                                                  |
|                   |                           |           | or ``/var/lib/synda/sdt``       |                                                                                                              |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [core]            | sandbox_path              | *string*  | ``$HOME/sdt/sandbox``           | Default sandbox directory path.                                                                              |
|                   |                           |           | or ``/srv/synda/sdt/sandbox``   |                                                                                                              |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | unicode_term              | *boolean* | False                           | Use unicode characters for progress bar.                                                                     |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | progress                  | *boolean* | False                           | Show progress bar for time consuming task.                                                                   |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [interface]       | default_listing_size      | *string*  | small                           | This parameter drives how many results are displayed by default for "search", "list" and "dump" subcommands. |
|                   |                           |           |                                 | Possible values are: "small", "medium" and "big".                                                            |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | onemgf                    | *boolean* | False                           | Improve search performance.                                                                                  |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | check_parameter           | *boolean* | False                           | Perform parameter typo detection (name and value).                                                           |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | ignorecase                | *boolean* | True                            | Automatically fix incorrect case.                                                                            |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | nearest                   | *boolean* | False                           | Automatically select the nearest file replica.                                                               |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | nearest_mode              | *string*  | geolocation                     | Set nearest replica algorithm.                                                                               |
|                   |                           |           |                                 | Possible values are: "geolocation" and "rtt".                                                                |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | lfae_mode                 | *string*  | abort                           | Set which policies to adopt when a download starts and local file already exists (lfae).                     |
|                   |                           |           |                                 | Possible values are: "keep", "replace" and "abort".                                                          |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [behaviour]       | incorrect_checksum_action | *string*  | remove                          | Set which policies to adopt when checksum doesn't match.                                                     |
|                   |                           |           |                                 | Possible values are: "remove" and "keep".                                                                    |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [index]           | indexes                   | *string*  | pcmdi.llnl.gov                  | Set the indexes list to use for large operation.                                                             |
|                   |                           |           |                                 | This parameter is used for load-balancing on several indexes, to speed up large search-API requests.         |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [index]           | default_index             | *string*  | pcmdi.llnl.gov                  | Set the index to use in priority.                                                                            |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [locale]          | country                   | *string*  |                                 | Set the country in which synda is installed.                                                                 |
|                   |                           |           |                                 | Used to compute nearest replica when "geolocation" mode is used.                                             |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [globus]          | esgf_endpoints            | *string*  | /esg/config/esgf_endpoints.xml  | Set globus endpoints.                                                                                        |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
| [globus]          | destination_endpoint      | *string*  | destination#endpoint            | Set destination endpoint.                                                                                    |
+-------------------+---------------------------+-----------+---------------------------------+--------------------------------------------------------------------------------------------------------------+
